!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Container",[],e):"object"==typeof exports?exports.Container=e():t.Container=e()}(this,(function(){return(()=>{"use strict";var t={240:(t,e,s)=>{s.r(e),s.d(e,{Container:()=>r});class r{constructor(t){this.factories={},this.shared={},this.instances={},this.aliases={},this.factoryContexts={},this.parent=t}factory(t,e){return this.factories[t]=e,this}sharedFactory(t,e){return this.factory(t,e),this.setShared(t,!0),this}alias(t,e){return this.aliases[t]=e,this}setShared(t,e){return t=this.resolveAlias(t),this.shared[t]=e,this}resolveAlias(t){return this.aliases[t]?this.aliases[t]:t}set(t,e){return this.instances[t]=e,this}get(t,e){if(t=this.resolveAlias(t),this.instances[t])return this.instances[t];const s=this.getFactory(t)(this.resolveFactoryContext(t),e);return this.shared[t]&&(this.instances[t]=s),s}getFactory(t){const e=this.resolveAlias(t);if(this.factories[e])return this.factories[e];if(this.parent)return this.parent.getFactory(e);throw new Error("Factory with name '{ name }' isnt set")}unsetFactory(t){return this.factories[t]&&delete this.factories[t],this.parent&&this.parent.unsetFactory(t),this}unsetAlias(t){return delete this.aliases[t],this.parent&&this.parent.unsetAlias(t),this}build(t){return new n(this,t)}when(t){return new i(this,t)}addContextualBinding(t,e,s){const r=this.resolveFactoryContext(t);return"string"==typeof s?(r.unsetFactory(e),r.alias(e,s),this):(r.unsetAlias(e),r.factory(e,s),this)}resolveFactoryContext(t){return this.factoryContexts[t]||(this.factoryContexts[t]=new r(this)),this.factoryContexts[t]}global(){return this.parent?this.parent.global():this}}class i{constructor(t,e){this.container=t,this.name=e}needs(t){return this.dependency=t,this}give(t){return this.container.addContextualBinding(this.name,this.dependency,t),this}}class n{constructor(t,e){this.name=e,this.container=new r(t)}needs(t){return this.dependency=t,this}give(t){return this.container.addContextualBinding(this.name,this.dependency,t),this}get(t){return this.container.get(this.name,t)}}}},e={};function s(r){if(e[r])return e[r].exports;var i=e[r]={exports:{}};return t[r](i,i.exports,s),i.exports}return s.d=(t,e)=>{for(var r in e)s.o(e,r)&&!s.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s(240)})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db250YWluZXIvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL0NvbnRhaW5lci8uL3NyYy9jb250YWluZXIudHMiLCJ3ZWJwYWNrOi8vQ29udGFpbmVyL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL0NvbnRhaW5lci93ZWJwYWNrL3N0YXJ0dXAiLCJ3ZWJwYWNrOi8vQ29udGFpbmVyL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9Db250YWluZXIvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9Db250YWluZXIvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJ0aGlzIiwiQ29udGFpbmVyIiwicGFyZW50IiwiZmFjdG9yaWVzIiwic2hhcmVkIiwiaW5zdGFuY2VzIiwiYWxpYXNlcyIsImZhY3RvcnlDb250ZXh0cyIsIm5hbWUiLCJzZXRTaGFyZWQiLCJhbGlhcyIsImlzU2hhcmVkIiwicmVzb2x2ZUFsaWFzIiwiaW5zdGFuY2UiLCJwYXJhbWV0ZXJzIiwiZ2V0RmFjdG9yeSIsInJlc29sdmVGYWN0b3J5Q29udGV4dCIsIkVycm9yIiwidW5zZXRGYWN0b3J5IiwidW5zZXRBbGlhcyIsIkluc3RhbmNlQnVpbGRlciIsIkJpbmRpbmdCdWlsZGVyIiwiZGVwZW5kZW5jeSIsImltcGxlbWVudGF0aW9uIiwiY29udGV4dENvbnRhaW5lciIsImdsb2JhbCIsImNvbnRhaW5lciIsImFkZENvbnRleHR1YWxCaW5kaW5nIiwiZ2V0IiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImQiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBMkNBLEVBQU1DLEdBQzFCLGlCQUFaQyxTQUEwQyxpQkFBWEMsT0FDeENBLE9BQU9ELFFBQVVELElBQ1EsbUJBQVhHLFFBQXlCQSxPQUFPQyxJQUM5Q0QsT0FBTyxZQUFhLEdBQUlILEdBQ0UsaUJBQVpDLFFBQ2RBLFFBQW1CLFVBQUlELElBRXZCRCxFQUFnQixVQUFJQyxJQVJ0QixDQVNHSyxNQUFNLFdBQ1QsTSx3RUNSTyxNQUFNQyxFQVFYLFlBQVlDLEdBUEosS0FBQUMsVUFBeUMsR0FDekMsS0FBQUMsT0FBc0MsR0FDdEMsS0FBQUMsVUFBcUMsR0FDckMsS0FBQUMsUUFBc0MsR0FDdEMsS0FBQUMsZ0JBQWlELEdBSXZEUCxLQUFLRSxPQUFTQSxFQUdoQixRQUFRTSxFQUFjYixHQUVwQixPQURBSyxLQUFLRyxVQUFVSyxHQUFRYixFQUNoQkssS0FHVCxjQUFjUSxFQUFjYixHQUcxQixPQUZBSyxLQUFLTCxRQUFRYSxFQUFNYixHQUNuQkssS0FBS1MsVUFBVUQsR0FBTSxHQUNkUixLQUdULE1BQU1RLEVBQWNFLEdBRWxCLE9BREFWLEtBQUtNLFFBQVFFLEdBQVFFLEVBQ2RWLEtBR1QsVUFBVVEsRUFBY0csR0FHdEIsT0FGQUgsRUFBT1IsS0FBS1ksYUFBYUosR0FDekJSLEtBQUtJLE9BQU9JLEdBQVFHLEVBQ2JYLEtBR1QsYUFBYVEsR0FDWCxPQUFJUixLQUFLTSxRQUFRRSxHQUNSUixLQUFLTSxRQUFRRSxHQUVmQSxFQUdULElBQUlBLEVBQWNLLEdBRWhCLE9BREFiLEtBQUtLLFVBQVVHLEdBQVFLLEVBQ2hCYixLQUdULElBQUlRLEVBQWNNLEdBR2hCLEdBRkFOLEVBQU9SLEtBQUtZLGFBQWFK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QUFvQmUsRUFBS2pELElBQ0gsb0JBQVhrRCxRQUEwQkEsT0FBT0MsYUFDMUNWLE9BQU9DLGVBQWUxQyxFQUFTa0QsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEWCxPQUFPQyxlQUFlMUMsRUFBUyxhQUFjLENBQUVvRCxPQUFPLEtIRmhEbEIsRUFBb0IsTSIsImZpbGUiOiJjb250YWluZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShcIkNvbnRhaW5lclwiLCBbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJDb250YWluZXJcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiQ29udGFpbmVyXCJdID0gZmFjdG9yeSgpO1xufSkodGhpcywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gIiwidHlwZSBGYWN0b3J5ID0gKGNvbnRhaW5lcjogQ29udGFpbmVyLCBwYXJhbWV0ZXJzPzogYW55KSA9PiBhbnlcblxuZXhwb3J0IGNsYXNzIENvbnRhaW5lciB7XG4gIHByaXZhdGUgZmFjdG9yaWVzOiB7IFtuYW1lOiBzdHJpbmddOiBGYWN0b3J5IH0gPSB7fVxuICBwcml2YXRlIHNoYXJlZDogeyBbbmFtZTogc3RyaW5nXTogYm9vbGVhbiB9ID0ge31cbiAgcHJpdmF0ZSBpbnN0YW5jZXM6IHsgW25hbWU6IHN0cmluZ106IGFueSB9ID0ge31cbiAgcHJpdmF0ZSBhbGlhc2VzOiB7IFtuYW1lOiBzdHJpbmddOiBzdHJpbmcgfSA9IHt9XG4gIHByaXZhdGUgZmFjdG9yeUNvbnRleHRzOiB7IFtuYW1lOiBzdHJpbmddOiBDb250YWluZXIgfSA9IHt9XG4gIHJlYWRvbmx5IHBhcmVudD86IENvbnRhaW5lclxuXG4gIGNvbnN0cnVjdG9yKHBhcmVudD86IENvbnRhaW5lcikge1xuICAgIHRoaXMucGFyZW50ID0gcGFyZW50XG4gIH1cblxuICBmYWN0b3J5KG5hbWU6IHN0cmluZywgZmFjdG9yeTogRmFjdG9yeSk6IENvbnRhaW5lciB7XG4gICAgdGhpcy5mYWN0b3JpZXNbbmFtZV0gPSBmYWN0b3J5XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBzaGFyZWRGYWN0b3J5KG5hbWU6IHN0cmluZywgZmFjdG9yeTogRmFjdG9yeSk6IENvbnRhaW5lciB7XG4gICAgdGhpcy5mYWN0b3J5KG5hbWUsIGZhY3RvcnkpXG4gICAgdGhpcy5zZXRTaGFyZWQobmFtZSwgdHJ1ZSlcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGFsaWFzKG5hbWU6IHN0cmluZywgYWxpYXM6IHN0cmluZyk6IENvbnRhaW5lciB7XG4gICAgdGhpcy5hbGlhc2VzW25hbWVdID0gYWxpYXNcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHNldFNoYXJlZChuYW1lOiBzdHJpbmcsIGlzU2hhcmVkOiBib29sZWFuKTogQ29udGFpbmVyIHtcbiAgICBuYW1lID0gdGhpcy5yZXNvbHZlQWxpYXMobmFtZSlcbiAgICB0aGlzLnNoYXJlZFtuYW1lXSA9IGlzU2hhcmVkXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICByZXNvbHZlQWxpYXMobmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBpZiAodGhpcy5hbGlhc2VzW25hbWVdKSB7XG4gICAgICByZXR1cm4gdGhpcy5hbGlhc2VzW25hbWVdXG4gICAgfVxuICAgIHJldHVybiBuYW1lXG4gIH1cblxuICBzZXQobmFtZTogc3RyaW5nLCBpbnN0YW5jZTogYW55KTogQ29udGFpbmVyIHtcbiAgICB0aGlzLmluc3RhbmNlc1tuYW1lXSA9IGluc3RhbmNlXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBnZXQobmFtZTogc3RyaW5nLCBwYXJhbWV0ZXJzPzogYW55KTogYW55IHtcbiAgICBuYW1lID0gdGhpcy5yZXNvbHZlQWxpYXMobmFtZSlcblxuICAgIGlmICh0aGlzLmluc3RhbmNlc1tuYW1lXSkge1xuICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VzW25hbWVdXG4gICAgfVxuXG4gICAgY29uc3QgZmFjdG9yeSA9IHRoaXMuZ2V0RmFjdG9yeShuYW1lKVxuICAgIGNvbnN0IGZhY3RvcnlDb250ZXh0ID0gdGhpcy5yZXNvbHZlRmFjdG9yeUNvbnRleHQobmFtZSlcbiAgICBjb25zdCBpbnN0YW5jZSA9IGZhY3RvcnkoZmFjdG9yeUNvbnRleHQsIHBhcmFtZXRlcnMpXG5cbiAgICBpZiAodGhpcy5zaGFyZWRbbmFtZV0pIHtcbiAgICAgIHRoaXMuaW5zdGFuY2VzW25hbWVdID0gaW5zdGFuY2VcbiAgICB9XG5cbiAgICByZXR1cm4gaW5zdGFuY2VcbiAgfVxuXG4gIGdldEZhY3RvcnkobmFtZTogc3RyaW5nKTogRmFjdG9yeSB7XG4gICAgY29uc3QgYWxpYXMgPSB0aGlzLnJlc29sdmVBbGlhcyhuYW1lKVxuXG4gICAgaWYgKHRoaXMuZmFjdG9yaWVzW2FsaWFzXSkge1xuICAgICAgcmV0dXJuIHRoaXMuZmFjdG9yaWVzW2FsaWFzXVxuICAgIH1cblxuICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgcmV0dXJuIHRoaXMucGFyZW50LmdldEZhY3RvcnkoYWxpYXMpXG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRmFjdG9yeSB3aXRoIG5hbWUgJ3sgbmFtZSB9JyBpc250IHNldFwiKVxuICB9XG5cbiAgdW5zZXRGYWN0b3J5KG5hbWU6IHN0cmluZyk6IENvbnRhaW5lciB7XG4gICAgaWYgKHRoaXMuZmFjdG9yaWVzW25hbWVdKSB7XG4gICAgICBkZWxldGUgdGhpcy5mYWN0b3JpZXNbbmFtZV1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgIHRoaXMucGFyZW50LnVuc2V0RmFjdG9yeShuYW1lKVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdW5zZXRBbGlhcyhuYW1lOiBzdHJpbmcpOiBDb250YWluZXIge1xuICAgIGRlbGV0ZSB0aGlzLmFsaWFzZXNbbmFtZV1cblxuICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgdGhpcy5wYXJlbnQudW5zZXRBbGlhcyhuYW1lKVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgYnVpbGQobmFtZTogc3RyaW5nKTogSW5zdGFuY2VCdWlsZGVyIHtcbiAgICByZXR1cm4gbmV3IEluc3RhbmNlQnVpbGRlcih0aGlzLCBuYW1lKVxuICB9XG5cbiAgd2hlbihuYW1lOiBzdHJpbmcpOiBCaW5kaW5nQnVpbGRlciB7XG4gICAgcmV0dXJuIG5ldyBCaW5kaW5nQnVpbGRlcih0aGlzLCBuYW1lKVxuICB9XG5cbiAgYWRkQ29udGV4dHVhbEJpbmRpbmcobmFtZTogc3RyaW5nLCBkZXBlbmRlbmN5OiBzdHJpbmcsIGltcGxlbWVudGF0aW9uOiBGYWN0b3J5IHwgc3RyaW5nKTogQ29udGFpbmVyIHtcbiAgICBjb25zdCBjb250ZXh0Q29udGFpbmVyID0gdGhpcy5yZXNvbHZlRmFjdG9yeUNvbnRleHQobmFtZSlcblxuICAgIGlmICh0eXBlb2YgaW1wbGVtZW50YXRpb24gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGNvbnRleHRDb250YWluZXIudW5zZXRGYWN0b3J5KGRlcGVuZGVuY3kpXG4gICAgICBjb250ZXh0Q29udGFpbmVyLmFsaWFzKGRlcGVuZGVuY3ksIGltcGxlbWVudGF0aW9uKVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgY29udGV4dENvbnRhaW5lci51bnNldEFsaWFzKGRlcGVuZGVuY3kpXG4gICAgY29udGV4dENvbnRhaW5lci5mYWN0b3J5KGRlcGVuZGVuY3ksIGltcGxlbWVudGF0aW9uKVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcmVzb2x2ZUZhY3RvcnlDb250ZXh0KG5hbWU6IHN0cmluZyk6IENvbnRhaW5lciB7XG4gICAgaWYgKCF0aGlzLmZhY3RvcnlDb250ZXh0c1tuYW1lXSkge1xuICAgICAgdGhpcy5mYWN0b3J5Q29udGV4dHNbbmFtZV0gPSBuZXcgQ29udGFpbmVyKHRoaXMpXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuZmFjdG9yeUNvbnRleHRzW25hbWVdXG4gIH1cblxuICBnbG9iYWwoKTogQ29udGFpbmVyIHtcbiAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgIHJldHVybiB0aGlzLnBhcmVudC5nbG9iYWwoKVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cbn1cblxuY2xhc3MgQmluZGluZ0J1aWxkZXIge1xuICBwcml2YXRlIGNvbnRhaW5lcjogQ29udGFpbmVyXG4gIHByaXZhdGUgcmVhZG9ubHkgbmFtZTogc3RyaW5nXG4gIHByaXZhdGUgZGVwZW5kZW5jeTogc3RyaW5nXG5cbiAgY29uc3RydWN0b3IoY29udGFpbmVyOiBDb250YWluZXIsIG5hbWU6IHN0cmluZykge1xuICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyXG4gICAgdGhpcy5uYW1lID0gbmFtZVxuICB9XG5cbiAgbmVlZHMoZGVwZW5kZW5jeTogc3RyaW5nKTogQmluZGluZ0J1aWxkZXIge1xuICAgIHRoaXMuZGVwZW5kZW5jeSA9IGRlcGVuZGVuY3lcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgZ2l2ZShpbXBsZW1lbnRhdGlvbjogc3RyaW5nIHwgRmFjdG9yeSk6IEJpbmRpbmdCdWlsZGVyIHtcbiAgICB0aGlzLmNvbnRhaW5lci5hZGRDb250ZXh0dWFsQmluZGluZyh0aGlzLm5hbWUsIHRoaXMuZGVwZW5kZW5jeSwgaW1wbGVtZW50YXRpb24pXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxufVxuXG5jbGFzcyBJbnN0YW5jZUJ1aWxkZXIge1xuICBwcml2YXRlIGNvbnRhaW5lcjogQ29udGFpbmVyXG4gIHByaXZhdGUgcmVhZG9ubHkgbmFtZTogc3RyaW5nXG4gIHByaXZhdGUgZGVwZW5kZW5jeTogc3RyaW5nXG5cbiAgY29uc3RydWN0b3IocGFyZW50OiBDb250YWluZXIsIG5hbWU6IHN0cmluZykge1xuICAgIHRoaXMubmFtZSA9IG5hbWVcbiAgICB0aGlzLmNvbnRhaW5lciA9IG5ldyBDb250YWluZXIocGFyZW50KVxuICB9XG5cbiAgbmVlZHMoZGVwZW5kZW5jeTogc3RyaW5nKTogSW5zdGFuY2VCdWlsZGVyIHtcbiAgICB0aGlzLmRlcGVuZGVuY3kgPSBkZXBlbmRlbmN5XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIGdpdmUoaW1wbGVtZW50YXRpb246IHN0cmluZyB8IEZhY3RvcnkpOiBJbnN0YW5jZUJ1aWxkZXIge1xuICAgIHRoaXMuY29udGFpbmVyLmFkZENvbnRleHR1YWxCaW5kaW5nKHRoaXMubmFtZSwgdGhpcy5kZXBlbmRlbmN5LCBpbXBsZW1lbnRhdGlvbilcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGdldChwYXJhbWV0ZXJzPzogYW55KTogYW55IHtcbiAgICByZXR1cm4gdGhpcy5jb250YWluZXIuZ2V0KHRoaXMubmFtZSwgcGFyYW1ldGVycylcbiAgfVxufVxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0aWYoX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSkge1xuXHRcdHJldHVybiBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBtb2R1bGUgZXhwb3J0cyBtdXN0IGJlIHJldHVybmVkIGZyb20gcnVudGltZSBzbyBlbnRyeSBpbmxpbmluZyBpcyBkaXNhYmxlZFxuLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG5yZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygyNDApO1xuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiXSwic291cmNlUm9vdCI6IiJ9